{% extends 'base.html' %}
{% block top_content %}

{% include 'summary.html' %}

{% endblock %}

{% block main_content %}
   <div class="row">
	<div class="span2">
        <h3>
          {% trans %} Schedule {% endtrans %}
        </h3>
		</div>
	</div>
	<div class="row">
        <div>
		   <table class="table table-bordered">
            <!--<ul>-->
              {% for unit in units %}
                {% if unit.now_available or is_course_admin %}
                  {% if unit.type == 'A' %}
                    {% if progress[unit.unit_id] > 0 %}
						<tr class="">
							<td width="10%">
								<div class="progress progress-success progress-striped">
									<div class="bar" style="width: 100%;"></div>
								</div>
								<!--<img src="assets/lib/completed.png" alt="{% trans %} Completed {% endtrans %}" title="{% trans %} Completed {% endtrans %}" id="progress-completed-{{unit.unit_id}}">-->
							</td>
                    {% else %}
						<tr class="">
							<td width="10%">
								<!--<img src="assets/lib/not_started.png" alt="{% trans %} Not yet submitted {% endtrans %}" title="{% trans %} Not yet submitted {% endtrans %}" id="progress-notstarted-{{unit.unit_id}}">-->
								<div class="progress progress-danger progress-striped">
									<div class="bar" style="width: 1%;"></div>
								</div>
							</td>
                    {% endif %}
							<td>
								<a href="assessment?name={{ unit.unit_id }}">{{ unit.title }}</a>
							</td>
						</tr>
                  {% elif unit.type == 'U' %}
                      {% if is_progress_recorded %}
                        {% if progress[unit.unit_id] == 2 %}
						<tr class="">
							<td width="10%">
								<!--<img src="assets/lib/completed.png" alt="{% trans %} Completed {% endtrans %}" title="{% trans %} Completed {% endtrans %}" id="progress-completed-{{unit.unit_id}}">-->
								<div class="progress progress-success progress-striped">
									<div class="bar" style="width: 100%;"></div>
								</div>
							</td>
                        {% elif progress[unit.unit_id] == 1 %}
						<tr class="">
							<td width="10%">
								<div class="progress progress-warning progress-striped active">
									<div class="bar" style="width: 50%;"></div>
								</div>
								<!--<img src="assets/lib/in_progress.png" alt="{% trans %} In progress {% endtrans %}" title="{% trans %} In progress {% endtrans %}" id="progress-inprogress-{{unit.unit_id}}">-->
							</td>
                        {% else %}
						<tr class="">
							<td width="10%">
								<div class="progress progress-info progress-striped">
									<div class="bar" style="width: 20%;";"></div>
								</div>
								<!--<img src="assets/lib/not_started.png" alt="{% trans %} Not yet started {% endtrans %}" title="{% trans %} Not yet started {% endtrans %}" id="progress-notstarted-{{unit.unit_id}}">-->
							</td>
                        {% endif %}
                      {% else %}
						<tr ><td width="10%"><div class="progress progress-info progress-striped">
									<div class="bar" style="width: 1%;"></div>
								</div></td>
                      {% endif %}
							<td>
								&nbsp;&nbsp;&nbsp;<a href="unit?unit={{ unit.unit_id }}">{{ gettext('Unit %(id)s - %(title)s', id=unit.index, title=unit.title) }}</a>
							</td>
						</tr>  
                  {% elif unit.type == 'O' %}
                    <!--<li><p class="top_content">-->
					<tr class="">
						<td width="10%">
							<span class="progress-empty"></span>
						</td>
						<td>
							<a href="{{ unit.href }}"> {{ unit.title }} </a>
						</td>
					</tr>
                  {% else %}
					<tr class="">
						<td width="10%">
							<span class="progress-empty"></span>
						</td>
						<td>
							Error: unit type not recognized.
						</td>
					</tr>
                  {% endif %}
			  {% if not unit.now_available and is_course_admin %}
				(Private)
			  {% endif %}
                      <!--</p>-->
                    <!--</li>-->
                {% else %}
				  <ul>
                  {% if unit.type == 'A' %}
                    <li>
                      <p class="top_content">
                        <span class="progress-empty"></span>
                        {{ unit.title }}
                      </p>
                    </li>
                  {% elif unit.type == 'U' %}
                    <li>
                      <p class="top_content">
                        <span class="progress-empty"></span>
                        {{ gettext('Unit %(id)s - %(title)s', id=unit.index, title=unit.title) }}
                        <span style="padding-left: 20px; font-size: 12px; color: #5e94ff;">
                          {{ unit.release_date }}
                        </span>
                      </p>
                    </li>
                  {% elif unit.type == 'O' %}
                    <li>
                      <p class="top_content">
                        <span class="progress-empty"></span>
                        {{ unit.title }}
                      </p>
                    </li>
                  {% else %}
                    <li>
                      <p class="top_content">
                        <span class="progress-empty"></span>
                        Error: unit type not recognized.
                      </p>
                    </li>
                  {% endif %}
				  </ul>
                {% endif %}
              {% endfor %}
            <!--</ul>-->
			</table>
		</div>
    </div>
{% endblock %}
